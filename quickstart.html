<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick Start &mdash; Cloud Builder 0.2.42 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Git Package Source Setup" href="quickstart/git_package_source_setup.html" />
    <link rel="prev" title="Cloud Builder Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Cloud Builder
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cloud-builder-source-setup">Cloud Builder Source Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart/git_package_source_setup.html">Git Package Source Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart/git_package_source_setup.html#understanding-the-project-structure">Understanding the project structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/git_package_source_setup.html#understanding-cb-cloud-builder-yml">Understanding <code class="file docutils literal notranslate"><span class="pre">.cb/cloud_builder.yml</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/git_package_source_setup.html#understanding-cb-build-root-kiwi">Understanding <code class="file docutils literal notranslate"><span class="pre">.cb/build_root.kiwi</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quickstart/git_image_source_setup.html">Git Image Source Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart/git_image_source_setup.html#understanding-the-project-structure">Understanding the project structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/git_image_source_setup.html#understanding-cb-cloud-builder-yml">Understanding <code class="file docutils literal notranslate"><span class="pre">.cb/cloud_builder.yml</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cluster_setup_from_scratch.html">Setup Cloud Builder From Scratch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/kafka_broker_setup.html">Kafka Message Broker Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/control_plane_setup.html">Create and Install the Control Plane</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cluster_setup_from_scratch/control_plane_setup.html#control-plane-configuration">Control Plane Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/runner_setup.html">Runner Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/request_package_build.html">Request a Package Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/auto_rebuild_on_source_change.html">Auto Rebuild on Package Source Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/auto_rebuild_on_build_dependencies.html">Auto Rebuild on Package Build Dependency Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster_setup_from_scratch/collect_and_build_project_repos.html">Collect and Build Project Repos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cluster_setup_from_scratch/collect_and_build_project_repos.html#create-and-setup-the-reposerver-instance">Create and Setup the reposerver instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="cluster_setup_from_scratch/collect_and_build_project_repos.html#setup-apache-to-serve-the-repos">Setup Apache to Serve the Repos</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cluster_setup_from_cb_amis.html">Setup Cloud Builder From AMIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Overview Cloud Builder Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_fetch.html">cb-fetch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_fetch.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_fetch.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_fetch.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_scheduler.html">cb-scheduler</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_scheduler.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_scheduler.html#description">DESCRIPTION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="commands/cb_scheduler.html#building-a-package">Building a package:</a></li>
<li class="toctree-l4"><a class="reference internal" href="commands/cb_scheduler.html#build-an-os-image">Build an OS image:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_scheduler.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_prepare.html">cb-prepare</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_prepare.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_prepare.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_prepare.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_run.html">cb-run</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_run.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_run.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_run.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_image.html">cb-image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_image.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_image.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_image.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_info.html">cb-info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_info.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_info.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_info.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_depsolver.html">cb-depsolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_collect.html">cb-collect</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_collect.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_collect.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_collect.html#options">OPTIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/cb_ctl.html">cb-ctl</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_ctl.html#synopsis">SYNOPSIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_ctl.html#description">DESCRIPTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/cb_ctl.html#options">OPTIONS</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cloud Builder</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quick Start</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start">
<span id="quickstart"></span><h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This document provides information how to get started with Cloud Builder
and follows up with information about the structure of the package
and image source files such that Cloud Builder can consume them.</p>
</div>
<p>The Cloud Builder services are designed to let users create a build backend for
packages and images. However, for a quick start this is a lot of
information and can lead to an overload with information from different
technology areas.</p>
<p>So let’s start in small steps and with the idea to just let Cloud Builder
build a package and see how that works. For building a package
on your local system it would be enough to install the <code class="xref py py-obj docutils literal notranslate"><span class="pre">python3-cloud_builder</span></code>
package and checkout the example <a class="reference external" href="https://github.com/OSInside/cloud-builder-packages">cloud-builder-packages</a> git repository
for some example package and image sources. Because there is no information
about the host system on which these packages would be installed, I’d
like to also eliminate that source of trouble and simply start a local
virtual machine of a <code class="xref py py-obj docutils literal notranslate"><span class="pre">runner</span></code> image which exists for Cloud Builder to usually
serve as one <code class="xref py py-obj docutils literal notranslate"><span class="pre">runner</span></code> system in a Cloud Builder cluster.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The requirements for the host system to perform the following
steps are set to:</p>
<ul class="simple">
<li><p>Qemu KVM installed and available on the host</p></li>
<li><p>A connection to the Internet</p></li>
</ul>
</div>
<p>The following steps needs to be done to start a Cloud Builder runner locally
on your system:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ wget https://download.opensuse.org/repositories/Virtualization:/Appliances:/CloudBuilder:/EC2:/fedora/images/CB-RunnerFedora.x86_64.raw.xz

$ xz -d CB-RunnerFedora.x86_64.raw.xz

$ qemu-kvm <span class="se">\</span>
    -m <span class="m">4096</span> <span class="se">\</span>
    -netdev user,id<span class="o">=</span>user0 <span class="se">\</span>
    -device virtio-net-pci,netdev<span class="o">=</span>user0 <span class="se">\</span>
    -serial stdio <span class="se">\</span>
    -drive <span class="nv">file</span><span class="o">=</span>CB-RunnerFedora.x86_64.raw,if<span class="o">=</span>virtio
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Login to the system with user <code class="xref py py-obj docutils literal notranslate"><span class="pre">root</span></code> pwd <code class="xref py py-obj docutils literal notranslate"><span class="pre">linux</span></code>. This login
option is only available with direct console access. If this
image is used in cloud frameworks all local login options will
be disabled through <code class="xref py py-obj docutils literal notranslate"><span class="pre">cloud-init</span></code></p>
</div>
<p>Once logged in to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">runner</span></code> system, perform the following steps
to build a package. As example the <code class="xref py py-obj docutils literal notranslate"><span class="pre">xsnow</span></code> package for <code class="xref py py-obj docutils literal notranslate"><span class="pre">Debian</span> <span class="pre">unstable</span></code>
is used:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> cloud_builder_sources/projects/Debian/xsnow

$ cb-ctl --build-package-local --dist unstable
</pre></div>
</div>
<p>Congrats ! you build your first package with Cloud Builder. Feel free to try other
package builds from the example git repo checkout in <code class="file docutils literal notranslate"><span class="pre">cloud_builder_sources</span></code>.
After this, a good next step is to get familiar with the Cloud Builder metadata
which exists below the <code class="file docutils literal notranslate"><span class="pre">.cb</span></code> directory in each package and image
source data. Learn more about the Cloud Builder source setup in the following
chapters.</p>
<section id="cloud-builder-source-setup">
<span id="sources"></span><h2>Cloud Builder Source Setup<a class="headerlink" href="#cloud-builder-source-setup" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart/git_package_source_setup.html">Git Package Source Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart/git_image_source_setup.html">Git Image Source Setup</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Cloud Builder Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quickstart/git_package_source_setup.html" class="btn btn-neutral float-right" title="Git Package Source Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Marcus Schäfer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>